#!/usr/bin/env python

import argparse
import bestnewmusic as bnm

parser = argparse.ArgumentParser(
    description='Retrieve best new music lists and print them to stdout')
parser.add_argument('source', type=str,
                    help=('Review source to display. Valid entries are "am"'
                          '(AllMusic Editor\'s Choice) "p4k" (Pitchfork 8.0+'
                          'Reviews), "ra" (Resident Advisor Recommended), or'
                          '"fe" (Forced Exposure Best Sellers)'))

args = parser.parse_args()
source = args.source.lower()
if source not in ['am', 'p4k', 'ra', 'fe']:
    parser.error("Unrecognized source '{}'. Valid entries are 'fe', 'p4k',"
                 "'ra', or 'am'.".format(args.source))
elif source == 'am':
    bnm.allmusic()
elif source == 'p4k':
    bnm.pitchfork()
elif source == 'ra':
    bnm.resident_advisor()
elif source == 'fe':
    bnm.forced_exposure()
